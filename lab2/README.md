# САНКТ-ПЕТЕРБУРГСКИЙ НАЦИОНАЛЬНЫЙ ИССЛЕДОВАТЕЛЬСКИЙ УНИВЕРСИТЕТ ИНФОРМАЦИОННЫХ ТЕХНОЛОГИЙ, МЕХАНИКИ И ОПТИКИ ФАКУЛЬТЕТ ИНФОКОММУНИКАЦИОННЫХ ТЕХНОЛОГИЙ
## Отчет по лабораторной работе №1 по курсу «Информатика» 
## Тема: Работа с IP-aдресами в Bash
**Выполнила: Жмачинская Д.С. К3141**                                                                                                                                               
**Проверила: Болгова Е.В.**                                                                                                                                                
**Санкт-Петербург 2024 г.**                                                                                                                 

## Задание:
На основе изученного материала лабораторной работы, лекций (2 и 3), дополнительных источников напишите скрипт, который на вход принимает IPv4-адрес в десятичном формате, а на выходе обеспечивает данный IP-адрес в двоичном формате.

**Листинг кода:**
#!/bin/bash
```
res=""
otv=""
cnt=0
string="$@"
set -f
array=(${string//./ })
for i in ${array[@]}
do 
n=$i
res=""
while [ $n -gt 0 ]
do
temp=$(($n%2))
res="${temp}${res}"
n=$(($n/2))
done
while [ "${#res}" -ne "8" ]
do
res="0${res}"
done
otv+="${res}"
num=$(($cnt+1))
if [ "$(($cnt+1))" -ne "${#array[*]}" ]
then
otv+="."
fi
cnt=$(($cnt+1))
done
echo $otv
```

- Переменная res инициализируется как пустая строка, она используется для хранения двоичного представления текущего числа.
- Переменная otv инициализируется как пустая строка, в ней будет собираться финальный результат.
- Переменная cnt инициализируется как 0, она вводится для подсчета количества элементов, чтобы правильно расставить точки между частями результата.
- Строка ввода передается через переменную string, которая содержит все аргументы, переданные скрипту, через переменную $@.
```
res=""
otv=""
cnt=0
```
Команда 'set -f' отключает подстановку шаблонов оболочки bash, чтобы при разборе аргументов символы, такие как *, не воспринимались как шаблоны файлов.
Вся строка аргументов, переданная в скрипт, сохраняется в переменной 'string' через '$@'. Строка разбивается на массив 'array' по точкам. Это важно для обработки каждого сегмента (элементов IP-адреса). В цикле 'for' каждый элемент массива обрабатывается отдельно. Число преобразуется в двоичную строку путем деления на 2, и остатки от деления собираются в строку 'res'.
```
string="$@"
set -f
array=(${string//./ })
```
В цикле 'for' каждый элемент массива обрабатывается отдельно. Число преобразуется в двоичную строку путем деления на 2, и остатки от деления собираются в строку 'res'.
```
for i in ${array[@]}
do 
n=$i
res=""
```
Цикл постепенно делит число на 2, собирая его двоичное представление в строке 'res'. Полученный бит (temp) добавляется в начало строки res. Это важно, поскольку двоичные числа строятся справа налево. После того, как текущий бит был вычислен и добавлен в строку 'res', число 'n' делится на 2. Это уменьшает значение 'n' для обработки следующего бита на следующей итерации цикла.
```
while [ $n -gt 0 ]
do
temp=$(($n%2))
res="${temp}${res}"
n=$(($n/2))
done
```
После преобразования числа в двоичный формат выполняется цикл, который дополняет строку нулями слева до 8 символов. После завершения цикла 8-битная строка, содержащая двоичное представление числа, добавляется к переменной otv, которая хранит итоговый результат. Переменной 'num' присваивается значение счетчика 'cnt', увеличенное на 1.
```
while [ "${#res}" -ne "8" ]
do
res="0${res}"
done
otv+="${res}"
num=$(($cnt+1))
```
Проверяется, является ли текущий элемент массива не последним, и если это так, добавляет точку в строку результата otv. Счетчик увеличивается на 1, чтобы перейти к следующему элементу массива. Таким образом, в итоге 'otv' будет содержать строку с двоичным представлением чисел из массива, разделенных точками, но без точки после последнего числа.
```
if [ "$(($cnt+1))" -ne "${#array[*]}" ]
then
otv+="."
fi
cnt=$(($cnt+1))
done
```
Код 'echo $otv' выводит на экран значение переменной 'otv'.


## Вывод:
Код демонстрирует простой способ преобразования десятичных чисел в их двоичное представление, а затем объединения этих представлений в строку. 

